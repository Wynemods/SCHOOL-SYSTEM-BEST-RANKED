(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-93575df4"],{1942:function(t,e,s){"use strict";s("7d68")},"1e5a":function(t,e,s){"use strict";var i=s("23e7"),r=s("9961"),o=s("dad2");i({target:"Set",proto:!0,real:!0,forced:!o("symmetricDifference")},{symmetricDifference:r})},"1e70":function(t,e,s){"use strict";var i=s("23e7"),r=s("a5f7"),o=s("dad2");i({target:"Set",proto:!0,real:!0,forced:!o("difference")},{difference:r})},"22b2":function(t,e,s){"use strict";var i=function(){var t=this,e=t._self._c;return e("section",[e("v-snackbar",{style:{opacity:t.snackbar.opacity},attrs:{color:t.snackbar.color,timeout:t.snackbar.timeout,bottom:t.snackbar.bottom,top:t.snackbar.top,centered:t.snackbar.centered,left:t.snackbar.left,right:t.snackbar.right,vertical:t.snackbar.vertical,"multi-line":t.snackbar.multiline},model:{value:t.snackbar.visible,callback:function(e){t.$set(t.snackbar,"visible",e)},expression:"snackbar.visible"}},[e("span",{class:t.snackbar.textcolor+"--text"},[t._v(t._s(t.snackbar.content))]),t.snackbar.action?e("v-btn",{attrs:{text:"",color:"yellow"},on:{click:function(e){t.snackbar.visible=!1}}},[t._v("VIEW")]):t._e(),t.snackbar.loader?e("v-progress-circular",{attrs:{size:20,indeterminate:"",color:"primary"}}):t._e()],1)],1)},r=[],o={data(){return{snackbar:{visible:!1,content:null,route:null,color:void 0,textcolor:"white",loader:!1,timeout:-1,action:!1,right:!0,left:!1,centered:!1,bottom:!0,top:!1,vertical:!1,multiline:!1,opacity:.6}}},methods:{Snackify(t){this.snackbar={...this.snackbar,...t}}}},a=o,n=s("2877"),c=Object(n["a"])(a,i,r,!1,null,null,null);e["a"]=c.exports},"2a62":function(t,e,s){"use strict";var i=s("c65b"),r=s("825a"),o=s("dc4a");t.exports=function(t,e,s){var a,n;r(t);try{if(a=o(t,"return"),!a){if("throw"===e)throw s;return s}a=i(a,t)}catch(c){n=!0,a=c}if("throw"===e)throw s;if(n)throw a;return r(a),s}},3849:function(t,e,s){},"384f":function(t,e,s){"use strict";var i=s("e330"),r=s("5388"),o=s("cb27"),a=o.Set,n=o.proto,c=i(n.forEach),l=i(n.keys),d=l(new a).next;t.exports=function(t,e,s){return s?r({iterator:l(t),next:d},e):c(t,e)}},"395e":function(t,e,s){"use strict";var i=s("dc19"),r=s("cb27").has,o=s("8e16"),a=s("7f65"),n=s("5388"),c=s("2a62");t.exports=function(t){var e=i(this),s=a(t);if(o(e)<s.size)return!1;var l=s.getIterator();return!1!==n(l,(function(t){if(!r(e,t))return c(l,"normal",!1)}))}},"46c4":function(t,e,s){"use strict";t.exports=function(t){return{iterator:t,next:t.next,done:!1}}},"4f1f":function(t,e,s){"use strict";var i=function(){var t=this,e=t._self._c;return e("v-row",{attrs:{justify:"center"}},[e("v-dialog",{attrs:{persistent:"","max-width":"751"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[e("v-card",{staticClass:"rounded-lg",staticStyle:{"overflow-wrap":"unset !important"}},[e("v-toolbar",{attrs:{elevation:"0"}},[e("v-toolbar-title",{staticStyle:{"padding-left":"10px !important"}},[t._v("Feedback")]),e("v-spacer"),e("span",{staticClass:"body-2"},[t._v("Close")]),e("v-icon",{attrs:{size:"20"},on:{click:function(e){return t.closeDialog()}}},[t._v("mdi-close")])],1),e("v-divider"),e("v-card-title",{staticStyle:{"word-break":"unset !important"}},[t._v("Tell us more about your experience")]),e("v-card-text",{staticStyle:{padding:"0 24px"}},[e("p",{staticStyle:{"font-weight":"400","font-size":"12px","line-height":"14px",color:"#2f2d2d"}},[t._v(" We value your feedback. Kindly fill in this short survey on your experience. ")]),e("ol",[e("li",{staticStyle:{"font-weight":"400","font-size":"12px","line-height":"14px",color:"#2f2d2d","word-break":"unset !important"}},[t._v(" How likely are you to recommend the Daraja Developer Platform to a friend, family member or colleague? "),e("br"),e("br"),t._v(" Please answer on a scale of 0 to 10, where 0 means unlikely to recommend and 10 means very likely to recommend. ")]),e("v-icon",{staticStyle:{"font-style":"normal"},attrs:{size:"10"}},[t._v(" 👎 Bad ")]),e("v-row",{staticStyle:{margin:"-10px 4px 0px -10px"},model:{value:t.selectedScore,callback:function(e){t.selectedScore=e},expression:"selectedScore"}},t._l(t.items,(function(s,i){return e("v-col",{key:i,staticStyle:{"flex-grow":"0"}},[e("v-card",{style:{padding:"10px",cursor:"pointer",width:"38px",height:"30px",borderRadius:"5px",border:t.selectedScore===i?"solid 2px "+s.color:"solid 2px #A7A9AC",backgroundColor:t.selectedScore===i?s.color:"white !important",color:t.selectedScore===i?"white !important":"black !important",fontSize:"14px",display:"flex",justifyContent:"center",alignItems:"center"},attrs:{elevation:"0"},on:{click:function(e){return t.selectScore(i)}}},[t._v(" "+t._s(i)+" ")]),10==i?e("div",[e("v-icon",{staticStyle:{"font-style":"normal"},attrs:{size:"10"}},[t._v("👍 Good")])],1):t._e()],1)})),1),e("li",{staticStyle:{"font-weight":"400","font-size":"12px","line-height":"14px",color:"#2f2d2d","word-break":"unset !important"}},[t._v(" Why did you give the score above? ")]),e("v-col",{staticStyle:{"padding-bottom":"0px"},attrs:{cols:"12"}},[e("v-textarea",{attrs:{outlined:"",rows:"2","auto-grow":""},model:{value:t.scoreReason,callback:function(e){t.scoreReason=e},expression:"scoreReason"}})],1)],1)]),e("v-card-actions",{staticStyle:{"padding-top":"0px","padding-bottom":"20px"}},[e("v-btn",{staticClass:"mx-auto",attrs:{color:"primary",disabled:null==t.selectedScore,loading:t.loading,rounded:"","min-width":t.$vuetify.breakpoint.smAndDown?"100px":"300px"},on:{click:function(e){return t.submitScore()}}},[t._v("Submit")])],1)],1)],1),e("v-dialog",{attrs:{persistent:"","max-width":"400"},model:{value:t.successDialog,callback:function(e){t.successDialog=e},expression:"successDialog"}},[e("v-card",{staticClass:"rounded-lg text-center"},[e("v-icon",{staticStyle:{"margin-top":"10px"},attrs:{color:"#43B02A",size:"60px"}},[t._v(" mdi-check-circle-outline ")]),e("v-card-text",[e("p",{staticStyle:{"font-weight":"400","font-size":"15px",color:"#2cb34a","margin-top":"10px","word-break":"unset !important"}},[t._v(" SURVEY COMPLETE ")]),e("span",{staticStyle:{"font-weight":"500",color:"#424242","font-size":"12px","word-break":"unset !important"}},[t._v(" You have completed the survey")]),e("br"),e("span",{staticStyle:{"font-weight":"500",color:"#424242","font-size":"12px"}},[t._v(" Thank you for your time ")])]),e("v-card-actions",{staticStyle:{"padding-top":"0px","padding-bottom":"20px"}},[e("v-btn",{staticClass:"mx-auto",attrs:{color:"primary",rounded:"","min-width":t.$vuetify.breakpoint.smAndDown?"":"120px"},on:{click:function(e){return t.closeServey()}}},[t._v("Done")])],1)],1)],1),e("Alert",{ref:"Alert"})],1)},r=[],o=s("9b67"),a={props:["serviceName","journey","serveySubmitted"],components:{Alert:o["a"]},data(){return{dialog:!0,successDialog:!1,selectedScore:null,scoreReason:null,items:[{score:0,color:"#B72224"},{score:1,color:"#D52029"},{score:2,color:"#E95223"},{score:3,color:"#EA6F22"},{score:4,color:"#F6A726"},{score:5,color:"#FDC729"},{score:6,color:"#EBDB0A"},{score:7,color:"#E5E044"},{score:8,color:"#C2D234"},{score:9,color:"#AEC93C"},{score:10,color:"#66B44E"}],loading:!1}},methods:{selectScore(t){this.selectedScore=t},isSelected(t){return this.selectedScore===t},closeDialog(){this.dialog=!1,this.selectedScore=null,this.scoreReason=null,this.$emit("serveySubmitted",!0)},submitScore(){this.loading=!0,this.successDialog=!1,this.promiseFetch(this.$store.getters.fetchTimeout)(fetch(this.$store.getters.endpoint+"NPS/CompleteFeedback/",{method:"post",body:JSON.stringify({token:this.$store.getters.token,serviceName:this.serviceName,score:this.selectedScore,feedbackText:this.scoreReason,journey:this.journey,sourceChannel:"Daraja WEB"})})).then(t=>{t.text().then(e=>{200==t.status?(this.dialog=!1,this.selectedScore=null,this.scoreReason=null,this.successDialog=!0,this.dialog=!1):this.$refs.Alert.Alertify({visible:!0,content:JSON.parse(e).status,title:JSON.parse(e).title,icon:"mdi-alert",color:"error"})})}).catch(()=>{this.$refs.Alert.Alertify({visible:!0,content:this.$store.getters.fetchTimeoutError,title:"Connection Timeout",icon:"mdi-wifi-strength-1-alert",color:"error"})}).finally(()=>{this.loading=!1})},closeServey(){this.successDialog=!1,this.$emit("serveySubmitted",!0)}}},n=a,c=(s("9392"),s("2877")),l=Object(c["a"])(n,i,r,!1,null,null,null);e["a"]=l.exports},5388:function(t,e,s){"use strict";var i=s("c65b");t.exports=function(t,e,s){var r,o,a=s?t:t.iterator,n=t.next;while(!(r=i(n,a)).done)if(o=e(r.value),void 0!==o)return o}},"68df":function(t,e,s){"use strict";var i=s("dc19"),r=s("8e16"),o=s("384f"),a=s("7f65");t.exports=function(t){var e=i(this),s=a(t);return!(r(e)>s.size)&&!1!==o(e,(function(t){if(!s.includes(t))return!1}),!0)}},"72c3":function(t,e,s){"use strict";var i=s("23e7"),r=s("e9bc"),o=s("dad2");i({target:"Set",proto:!0,real:!0,forced:!o("union")},{union:r})},"79a4":function(t,e,s){"use strict";var i=s("23e7"),r=s("d039"),o=s("953b"),a=s("dad2"),n=!a("intersection")||r((function(){return"3,2"!==String(Array.from(new Set([1,2,3]).intersection(new Set([3,2]))))}));i({target:"Set",proto:!0,real:!0,forced:n},{intersection:o})},"7d68":function(t,e,s){},"7f65":function(t,e,s){"use strict";var i=s("59ed"),r=s("825a"),o=s("c65b"),a=s("5926"),n=s("46c4"),c="Invalid size",l=RangeError,d=TypeError,p=Math.max,h=function(t,e){this.set=t,this.size=p(e,0),this.has=i(t.has),this.keys=i(t.keys)};h.prototype={getIterator:function(){return n(r(o(this.keys,this.set)))},includes:function(t){return o(this.has,this.set,t)}},t.exports=function(t){r(t);var e=+t.size;if(e!==e)throw new d(c);var s=a(e);if(s<0)throw new l(c);return new h(t,s)}},"83b9":function(t,e,s){"use strict";var i=s("cb27"),r=s("384f"),o=i.Set,a=i.add;t.exports=function(t){var e=new o;return r(t,(function(t){a(e,t)})),e}},"8b00":function(t,e,s){"use strict";var i=s("23e7"),r=s("68df"),o=s("dad2");i({target:"Set",proto:!0,real:!0,forced:!o("isSubsetOf")},{isSubsetOf:r})},"8e16":function(t,e,s){"use strict";var i=s("7282"),r=s("cb27");t.exports=i(r.proto,"size","get")||function(t){return t.size}},9392:function(t,e,s){"use strict";s("e79d")},"953b":function(t,e,s){"use strict";var i=s("dc19"),r=s("cb27"),o=s("8e16"),a=s("7f65"),n=s("384f"),c=s("5388"),l=r.Set,d=r.add,p=r.has;t.exports=function(t){var e=i(this),s=a(t),r=new l;return o(e)>s.size?c(s.getIterator(),(function(t){p(e,t)&&d(r,t)})):n(e,(function(t){s.includes(t)&&d(r,t)})),r}},9961:function(t,e,s){"use strict";var i=s("dc19"),r=s("cb27"),o=s("83b9"),a=s("7f65"),n=s("5388"),c=r.add,l=r.has,d=r.remove;t.exports=function(t){var e=i(this),s=a(t).getIterator(),r=o(e);return n(s,(function(t){l(e,t)?d(r,t):c(r,t)})),r}},a4e7:function(t,e,s){"use strict";var i=s("23e7"),r=s("395e"),o=s("dad2");i({target:"Set",proto:!0,real:!0,forced:!o("isSupersetOf")},{isSupersetOf:r})},a5f7:function(t,e,s){"use strict";var i=s("dc19"),r=s("cb27"),o=s("83b9"),a=s("8e16"),n=s("7f65"),c=s("384f"),l=s("5388"),d=r.has,p=r.remove;t.exports=function(t){var e=i(this),s=n(t),r=o(e);return a(e)<=s.size?c(e,(function(t){s.includes(t)&&p(r,t)})):l(s.getIterator(),(function(t){d(e,t)&&p(r,t)})),r}},b4bc:function(t,e,s){"use strict";var i=s("dc19"),r=s("cb27").has,o=s("8e16"),a=s("7f65"),n=s("384f"),c=s("5388"),l=s("2a62");t.exports=function(t){var e=i(this),s=a(t);if(o(e)<=s.size)return!1!==n(e,(function(t){if(s.includes(t))return!1}),!0);var d=s.getIterator();return!1!==c(d,(function(t){if(r(e,t))return l(d,"normal",!1)}))}},b970:function(t,e,s){"use strict";s("3849")},c1a1:function(t,e,s){"use strict";var i=s("23e7"),r=s("b4bc"),o=s("dad2");i({target:"Set",proto:!0,real:!0,forced:!o("isDisjointFrom")},{isDisjointFrom:r})},c349:function(t,e,s){"use strict";s.r(e);var i=function(){var t=this,e=t._self._c;return e("v-main",[t.NoContent.visible?e("NoContent",{attrs:{NoContent:t.NoContent}}):e("v-container",{class:t.$vuetify.breakpoint.smAndUp&&"px-12 pt-6",attrs:{fluid:""}},[e("v-row",{attrs:{justify:"center"}},[e("v-col",{attrs:{cols:"12",sm:"12"}},[e("v-data-iterator",{attrs:{items:t.dataset,"items-per-page":t.itemsPerPage,page:t.page,search:t.search,"hide-default-footer":"","no-data-text":""},on:{"update:itemsPerPage":function(e){t.itemsPerPage=e},"update:items-per-page":function(e){t.itemsPerPage=e}},scopedSlots:t._u([{key:"header",fn:function(){return[e("div",[e("v-row",{attrs:{"no-gutters":"",align:"center"}},[e("v-avatar",{staticClass:"mt-n1",attrs:{color:"primary",size:"50"}},[e("span",{staticClass:"headline white--text"},[t._v(t._s(t.company.substring(0,1).toUpperCase()))])]),e("v-col",{attrs:{cols:"6"}},[e("div",{staticClass:"title ml-4 mb-n1",staticStyle:{color:"black!important"}},[t._v(" Active "),e("span",[t._v(t._s("Sandbox"===t.company?"entity":"company"))])]),e("v-menu",{attrs:{"offset-y":""},scopedSlots:t._u([{key:"activator",fn:function({on:s}){return[e("v-btn",t._g({attrs:{dark:"",text:"",color:"primary"}},s),[e("span",{staticClass:"body-2 font-weight-bold mr-2"},[t._v(t._s(t.company))]),e("v-icon",[t._v("mdi-chevron-down")])],1)]}}])},[e("v-list",{attrs:{dense:""}},t._l(t.companies,(function(s,i){return e("v-list-item",{key:i,on:{click:function(e){return t.UpdateCompany(s)}}},[e("v-list-item-title",[t._v(t._s(s))])],1)})),1)],1)],1)],1),t.dataset.length>=6?e("div",[e("v-row",[e("v-col",{attrs:{cols:"12",sm:"4"}},[e("v-text-field",{staticClass:"my-3",attrs:{clearable:"",rounded:"",flat:"",outlined:"","hide-details":"",dense:"","prepend-inner-icon":"mdi-table-search",label:"Search"},scopedSlots:t._u([{key:"append",fn:function(){return[e("v-btn",{staticClass:"mr-n4",staticStyle:{"margin-top":"-2px"},attrs:{disabled:t.isFreeze,color:"primary",small:"",rounded:""},on:{click:function(e){return t.showAppDetailsModal("Create")}}},[e("v-icon",{attrs:{left:""}},[t._v("mdi-shape-polygon-plus")]),t._v("CREATE NEW APP ")],1)]},proxy:!0}],null,!1,3307011483),model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1),e("v-spacer"),e("v-col",{attrs:{align:"end",cols:"12",sm:"4"}},[e("span",{staticClass:"mr-4 grey--text"},[t._v("Page "+t._s(t.page)+" of "+t._s(t.numberOfPages))]),e("v-btn",{staticClass:"mr-1",attrs:{fab:"",dark:"",small:"",color:"primary"},on:{click:t.formerPage}},[e("v-icon",[t._v("mdi-chevron-left")])],1),e("v-btn",{staticClass:"ml-1",attrs:{fab:"",dark:"",small:"",color:"primary"},on:{click:t.nextPage}},[e("v-icon",[t._v("mdi-chevron-right")])],1)],1)],1),e("v-row",{attrs:{"no-gutters":"",align:"center"}},[e("span",{staticClass:"grey--text"},[t._v("Apps per page")]),e("v-menu",{attrs:{"offset-y":""},scopedSlots:t._u([{key:"activator",fn:function({on:s}){return[e("v-btn",t._g({staticClass:"ml-2",attrs:{dark:"",text:"",color:"primary"}},s),[t._v(" "+t._s(t.itemsPerPage)+" "),e("v-icon",[t._v("mdi-chevron-down")])],1)]}}],null,!1,2893345357)},[e("v-list",t._l(t.itemsPerPageArray,(function(s,i){return e("v-list-item",{key:i,on:{click:function(e){return t.updateItemsPerPage(s)}}},[e("v-list-item-title",[t._v(t._s(s))])],1)})),1)],1)],1)],1):t._e(),e("h3",{staticClass:"mt-2"},[t._v(" "+t._s(t.company)+" apps"),e("v-chip",{staticClass:"ml-2 subtitle-1",attrs:{small:"","text-color":"white",color:"#bcbf02"}},[e("span",[t._v(t._s(t.dataset.length))])])],1),e("div",{staticClass:"body-2 mt-2"},[t._v(" All your apps appear here. Sandbox apps are marked grey, production apps are marked green while revoked apps are marked red. ")]),t.dataset.length<6&&"Sandbox"===t.company?e("v-btn",{staticClass:"mt-3",attrs:{outlined:"",color:"primary",disabled:t.isFreeze},on:{click:function(e){return t.showAppDetailsModal("Create")}}},[e("v-icon",{attrs:{left:""}},[t._v("mdi-shape-polygon-plus")]),t._v("CREATE_NEW APP ")],1):t._e(),e("v-divider",{staticClass:"mt-5 mb-8"})],1)]},proxy:!0},{key:"no-data",fn:function(){return["Sandbox"!==t.company||t.dataset.length?t._e():e("v-row",{staticClass:"mt-10",attrs:{"no-gutters":"",justify:"center"}},[e("v-alert",{attrs:{text:"",outlined:"",color:"deep-orange",icon:"mdi-progress-alert"}},[t._v(" Mmmmh...looks like you don't have any apps currently. Click "),e("v-btn",{staticClass:"mx-2",staticStyle:{"margin-top":"-2px"},attrs:{color:"primary",small:"",outlined:""},on:{click:function(e){return t.showAppDetailsModal("Create")}}},[t._v("CREATE NEW APP ")]),t._v(" to create a new app. ")],1)],1)]},proxy:!0},{key:"default",fn:function(s){return[t.skeleton?e("section",[e("v-row",t._l(12,(function(t){return e("v-col",{key:t,attrs:{cols:"12",sm:"6",md:"4",lg:"3",xl:"2"}},[e("v-skeleton-loader",{attrs:{type:"image, article"}})],1)})),1)],1):e("section",[e("v-row",t._l(s.items,(function(s,i){return e("v-col",{key:s.name,attrs:{cols:"12",sm:"6",md:"4",lg:"3",xl:"2"}},[e("v-card",{attrs:{flat:""}},[e("v-card",{staticClass:"rounded-t-xl elevation-3 px-3",staticStyle:{},attrs:{flat:"",dark:"",color:s.colors.header}},[s.SLA<2?e("img",{staticStyle:{position:"absolute",left:"-8px",top:"-8px"},attrs:{src:t.$store.getters.server+"img/CornerRibbon.png",width:"100px",height:"100px"}}):t._e(),e("v-row",[e("v-col",{attrs:{cols:"12",align:"center",justify:"center"}},[e("v-icon",{attrs:{size:"60"}},[t._v("mdi-webpack")]),e("div",{staticClass:"title font-weight-thin yellow--text"},[t._v(" "+t._s(s.app)+" ")]),t.isSandboxDomain(s.domain)?t._e():e("div",["approved"==s.status?e("v-chip",{staticClass:"mb-1 mr-1 mt-1",staticStyle:{border:"1px solid #fff"},attrs:{label:"",outlined:"",small:""},on:{click:function(e){return t.updateProdApp(s)}}},[t._v("Add API Products "),e("v-icon",{staticClass:"ml-1",attrs:{size:"15px",right:""}},[t._v("mdi-pencil")])],1):t._e(),e("v-chip",{staticClass:"mb-1 mr-1 mt-1",staticStyle:{border:"1px solid #fff"},attrs:{label:"",outlined:"",small:""},on:{click:function(e){return t.showhideKeySecret(i)}}},[t._v("Show Credentials "),e("v-icon",{attrs:{right:"",id:"mdi-eye-"+i}},[t._v(t._s(t.showKeySetStatus))])],1)],1),t.isSandboxDomain(s.domain)?e("div",[s.expired?t._e():e("v-chip",{staticClass:"mb-1 mr-1 mt-1",staticStyle:{border:"1px solid #fff"},attrs:{label:"",outlined:"",small:""},on:{click:function(e){return t.showAppDetailsModal("Update",s)}}},[t._v("Add API Products "),e("v-icon",{staticClass:"ml-1",attrs:{size:"15px",right:""}},[t._v("mdi-pencil")])],1),e("v-chip",{staticClass:"mb-1 mr-1 mt-1",staticStyle:{border:"1px solid #fff"},attrs:{label:"",outlined:"",small:""},on:{click:function(e){return t.showAppDetailsModal("Delete",s)}}},[t._v("Delete "),e("v-icon",{staticClass:"ml-1",attrs:{size:"15px",right:""}},[t._v("mdi-delete")])],1),e("v-chip",{staticClass:"mb-1 mr-1 mt-1",staticStyle:{border:"1px solid #fff"},attrs:{label:"",outlined:"",small:""},on:{click:function(e){return t.showhideKeySecret(i)}}},[t._v("Credentials "),e("v-icon",{attrs:{size:"15px",right:"",id:"mdi-eye-"+i}},[t._v(t._s(t.showKeySetStatus))])],1)],1):t._e()],1)],1)],1),e("v-card",{staticClass:"rounded-b-xl elevation-3 px-5 pb-5 pt-2",attrs:{tile:"",flat:"",color:s.colors.body}},[e("div",{staticClass:"font-italic font-weight-bold caption mb-n1"},[t._v(" API Products ")]),e("v-chip-group",{attrs:{column:"","active-class":"primary--text"}},t._l(s.products,(function(s,i){return e("v-chip",{key:i,attrs:{label:"","x-small":"",color:"#5c933e","text-color":"white"}},[t._v(t._s(s.apiproduct))])})),1),e("div",{staticClass:"caption"},[e("v-tooltip",{attrs:{right:""},scopedSlots:t._u([{key:"activator",fn:function({on:r,attrs:o}){return[e("v-icon",t._g(t._b({staticStyle:{float:"right"},attrs:{small:""},on:{click:function(e){return t.copyCredentials(s.ConsumerKey,i,"key")}}},"v-icon",o,!1),r),[t._v(" "+t._s(t.keycopied&&t.keyindex===i?"mdi mdi-check":"mdi mdi-content-copy")+" ")])]}}],null,!0)},[e("span",[t._v(t._s(t.tooltipKey))])]),e("span",{staticClass:"font-weight-bold"},[t._v("Consumer Key: ")]),e("span",{staticClass:"ellipsize-key",staticStyle:{color:"#968145","font-weight":"bold"}},[t._v(t._s(s.ConsumerKey))])],1),e("div",{staticClass:"caption"},[e("v-tooltip",{attrs:{right:""},scopedSlots:t._u([{key:"activator",fn:function({on:r,attrs:o}){return[e("v-icon",t._g(t._b({staticStyle:{float:"right"},attrs:{small:""},on:{click:function(e){return t.copyCredentials(s.ConsumerSecret,i,"secret")}}},"v-icon",o,!1),r),[t._v(" "+t._s(t.secretcopied&&t.secretindex===i?"mdi mdi-check":"mdi mdi-content-copy")+" ")])]}}],null,!0)},[e("span",[t._v(t._s(t.tooltipSecret))])]),e("span",{staticClass:"font-weight-bold"},[t._v("Consumer Secret: ")]),e("span",{staticClass:"text-truncate ellipsize-secret",staticStyle:{color:"#688c11","font-weight":"bold"}},[t._v(" "+t._s(s.ConsumerSecret))])],1),e("div",{staticClass:"caption"},[e("span",{staticClass:"font-weight-bold"},[t._v("Shortcode : ")]),e("span",{staticClass:"text-truncate ellipsize-shortcode",staticStyle:{color:"#688c11","font-weight":"bold"}},[t._v(" "+t._s(s.ShortCode))])]),e("div",{staticClass:"caption"},[e("span",{staticClass:"font-weight-bold"},[t._v("Created On: ")]),e("span",[t._v(t._s(s.CreatedOn))])])],1)],1)],1)})),1)],1)]}}])})],1)],1)],1),e("SandboxAppOperations",{ref:"SandboxAppOperations",on:{NewApp:t.NewApp}}),e("UpdateProduct",{ref:"UpdateProduct"}),e("Alert",{ref:"Alert"})],1)},r=[],o=(s("14d9"),function(){var t=this,e=t._self._c;return e("section",[e("v-dialog",{attrs:{"max-width":"400",transition:"fab-transition",persistent:""},model:{value:this.AppModal.visible,callback:function(e){t.$set(this.AppModal,"visible",e)},expression:"this.AppModal.visible"}},[e("v-card",{staticClass:"rounded-lg",attrs:{flat:"",disabled:t.isFreeze}},[this.AppModal.delete?t._e():e("v-toolbar",{attrs:{height:"35",dark:"",src:t.$store.getters.server+"img/backdrops/"+t.$store.getters.background},scopedSlots:t._u([{key:"img",fn:function({props:s}){return[e("v-img",t._b({attrs:{gradient:"to top right, rgba(57,181,74,.9), rgba(25,32,72,.6)"}},"v-img",s,!1))]}}],null,!1,3910631011)},[this.AppModal.delete?t._e():e("v-icon",[t._v("mdi-shape-polygon-plus")]),this.AppModal.create?e("div",[e("span",{staticClass:"body-2 ml-3"},[t._v("Create App")])]):t._e(),this.AppModal.update?e("div",[e("span",{staticClass:"body-2 ml-3"},[t._v("Add API Products")])]):t._e(),e("v-spacer"),e("v-icon",{staticClass:"ml-5",attrs:{size:"18"},on:{click:function(e){return t.CloseAppModal()}}},[t._v("mdi-close")])],1),this.AppModal.delete?e("v-toolbar",{attrs:{height:"35",dark:"",src:t.$store.getters.server+"img/backdrops/"+t.$store.getters.background},scopedSlots:t._u([{key:"img",fn:function({props:s}){return[e("v-img",t._b({attrs:{gradient:"to top right, rgba(255,0,0,.9), rgba(128,0,0,.6)"}},"v-img",s,!1))]}}],null,!1,4254987536)},[this.AppModal.delete?e("v-icon",[t._v("mdi-delete-forever-outline")]):t._e(),this.AppModal.delete?e("div",[e("span",{staticClass:"body-2 ml-3"},[t._v("Delete App")])]):t._e(),e("v-spacer"),e("v-icon",{staticClass:"ml-5",attrs:{size:"18"},on:{click:function(e){return t.CloseAppModal()}}},[t._v("mdi-close")])],1):t._e(),e("div",{staticClass:"pt-2 px-5 pb-0 CustomFormModifier",staticStyle:{"max-height":"75vh","overflow-y":"auto","overflow-x":"hidden"}},[e("v-row",[e("v-col",{staticClass:"text-center py-3",attrs:{align:"center"}},[this.AppModal.delete?t._e():e("v-avatar",{staticClass:"my-3",attrs:{color:"primary",size:"50"}},[e("v-icon",{attrs:{color:"white",size:"40"}},[t._v("mdi-shape-polygon-plus")])],1),this.AppModal.delete?e("v-avatar",{staticClass:"my-3",attrs:{color:"red",size:"50"}},[this.AppModal.delete?e("v-icon",{attrs:{color:"white",size:"40"}},[t._v("mdi-delete-forever-outline")]):t._e()],1):t._e(),this.AppModal.create?e("div",{staticClass:"headline"},[t._v(" Create App ")]):t._e(),this.AppModal.update?e("div",{staticClass:"headline"},[t._v(" Add API Products ")]):t._e(),this.AppModal.delete?e("div",{staticClass:"headline"},[t._v(" Delete App ")]):t._e()],1)],1),e("v-form",{ref:"Form",staticClass:"CustomFormModifier px-5 pt-3",model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[this.AppModal.delete?t._e():e("div",[e("v-text-field",{ref:"AppName",attrs:{rules:[t.validators.required],name:"AppName",label:"App Name *",outlined:"",dense:"",clearable:"",autofocus:"",disabled:this.AppModal.update,"prepend-inner-icon":"mdi-account-circle"},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.AppName.apply(null,arguments)}},model:{value:t.AppName,callback:function(e){t.AppName=e},expression:"AppName"}})],1),this.AppModal.update?e("div",[t.products.length?e("span",{staticClass:"caption mt-2"},[t._v("Which API product(s) should be added to this app?")]):t._e(),t.products.length?t._e():e("span",{staticClass:"caption mt-2"},[t._v("All API products are already added to the app")])]):t._e(),this.AppModal.create?e("div",[e("span",{staticClass:"caption mt-2"},[t._v("Which API product(s) should be mapped to this app?")])]):t._e(),this.AppModal.create?e("div",t._l(t.AvailableProducts,(function(s,i){return e("v-checkbox",{key:i,attrs:{rules:[t.validators.required],value:s,"hide-details":"",color:"primary"},scopedSlots:t._u([{key:"label",fn:function(){return[e("v-col",[e("div",[t._v(t._s(s.alias))]),e("small",[t._v(t._s(s.description))])])]},proxy:!0}],null,!0),model:{value:t.product,callback:function(e){t.product=e},expression:"product"}})})),1):t._e(),this.AppModal.update&&t.products.length?e("div",[t._l(t.products,(function(s,i){return e("v-checkbox",{key:i,attrs:{rules:[t.validators.required],value:s,"hide-details":"",color:"primary"},scopedSlots:t._u([{key:"label",fn:function(){return[e("v-col",[e("div",[t._v(t._s(s.alias))]),e("small",[t._v(t._s(s.description))])])]},proxy:!0}],null,!0),model:{value:t.product,callback:function(e){t.product=e},expression:"product"}})})),e("v-btn",{staticClass:"mt-4",attrs:{color:"primary",width:"100",height:"35",small:"",block:"",disabled:!t.valid||t.loading||0===t.product.length,loading:t.loading},on:{click:t.UpdateApp}},[t._v("Add Products")])],2):t._e(),this.AppModal.delete?e("div",[e("span",{staticClass:"caption mt-2"},[t._v("Confirm deletion by typing the app name below:"),e("br"),e("b",[t._v(" "+t._s(this.AppName))])]),e("v-text-field",{ref:"AppToBeDeleted",staticStyle:{"margin-top":"5px"},attrs:{rules:[t.validators.required],name:"AppToBeDeleted",label:"App Name *",placeholder:t.AppName,outlined:"",dense:"",clearable:"",autofocus:"","prepend-inner-icon":"mdi-information-variant"},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.AppToBeDeleted.apply(null,arguments)},input:function(e){return t.ValidateAppName(t.AppToBeDeleted)}},model:{value:t.AppToBeDeleted,callback:function(e){t.AppToBeDeleted=e},expression:"AppToBeDeleted"}}),e("v-btn",{staticClass:"mt-1",attrs:{color:"primary",width:"100",height:"35",small:"",disabled:!t.valid||t.loading||!t.isAppNameValid,block:"",loading:t.loading},on:{click:t.DeleteApp}},[t._v("Delete APP")])],1):t._e(),this.AppModal.create?e("v-btn",{staticClass:"mt-4",attrs:{color:"primary",width:"100",height:"35",small:"",block:"",disabled:!t.valid||t.loading||0===t.product.length,loading:t.loading},on:{click:t.CreateApp}},[t._v("CREATE APP")]):t._e()],1),e("img",{attrs:{width:"100%",src:t.$store.getters.server+"img/_logo.png"}})],1)],1)],1),e("Alert",{ref:"Alert",on:{click:t.click}})],1)}),a=[],n={data(){return{valid:!1,loading:!1,AppName:null,product:[],AvailableProducts:[{name:"M-PESA EXPRESS Sandbox",alias:"Lipa Na M-Pesa Sandbox",description:"For Lipa Na M-Pesa express"},{name:"MPesa Sandbox",alias:"M-Pesa Sandbox",description:"For M-Pesa Sandbox B2B, B2C and C2B APIs"},{name:"PreTUPSProduct",alias:"Pre-Tups Sandbox",description:"Pinless Top Up Sandbox API"},{name:"BillManagerGenericAPIs",alias:"Bill Manager Sandbox",description:"Bill Manager Generic Sandbox APIs"},{name:"B2B-USSDPush2Till-Product",alias:"B2B Express Checkout",description:"B2B Express Checkout Sandbox APIs"},{name:"M-Pesa-Ratiba",alias:"M-Pesa Ratiba Sandbox",description:"M-Pesa Ratiba Sandbox API"}],AppModal:{visible:!1,update:!1,create:!1,delete:!1,appDetails:null},appProducts:[],products:[],AppToBeDeleted:null,isAppNameValid:!1,newApp:[],createApp:!1,updateApp:!1,deleteApp:!1,successOperation:!1}},mounted(){this.checkBannerligibility()},methods:{CreateApp(){this.loading=!0,this.createApp=!0,this.promiseFetch(this.$store.getters.fetchTimeout)(fetch(this.$store.getters.endpoint+"SandboxApps/CreateApp/",{method:"post",body:JSON.stringify({token:this.$store.getters.token,AppName:this.AppName,products:this.product})})).then(t=>{t.text().then(e=>{t.status>206?this.$refs.Alert.Alertify({visible:!0,content:e,title:"App Creation Error",icon:"mdi-progress-alert",color:"error"}):(this.successOperation=!0,this.AppModal.visible=!1,this.newApp=JSON.parse(e).dataset,this.$refs.Alert.Alertify({visible:!0,content:"App Created Successfully",title:"Success",icon:"mdi-progress-alert",color:"success"}))})}).catch(()=>{this.$refs.Alert.Alertify({visible:!0,content:this.$store.getters.fetchTimeoutError,title:"Connection Timeout",icon:"mdi-wifi-strength-1-alert",color:"error"})}).finally(()=>{this.loading=!1})},click(){this.createApp&&this.successOperation&&(this.createApp=!1,this.updateApp=!1,this.deleteApp=!1,this.successOperation=!1,this.$emit("NewApp",this.newApp)),(this.updateApp||this.deleteApp)&&this.successOperation&&(this.createApp=!1,this.updateApp=!1,this.deleteApp=!1,this.successOperation=!1,this.ReloadGetApps())},UpdateApp(){this.loading=!0,this.updateApp=!0,this.promiseFetch(this.$store.getters.fetchTimeout)(fetch(this.$store.getters.endpoint+"SandboxApps/UpdateApp/",{method:"post",body:JSON.stringify({token:this.$store.getters.token,AppName:this.AppName,ConsumerKey:this.AppModal.appDetails.ConsumerKey,ConsumerSecret:this.AppModal.appDetails.ConsumerSecret,products:this.product})})).then(t=>{t.text().then(e=>{t.status>206?this.$refs.Alert.Alertify({visible:!0,content:e,title:"Products Add Error",icon:"mdi-progress-alert",color:"error"}):(this.AppModal.visible=!1,this.successOperation=!0,this.$refs.Alert.Alertify({visible:!0,content:"Products Added Successfully",title:"Success",icon:"mdi-progress-alert",color:"success"}))})}).catch(()=>{this.$refs.Alert.Alertify({visible:!0,content:this.$store.getters.fetchTimeoutError,title:"Connection Timeout",icon:"mdi-wifi-strength-1-alert",color:"error"})}).finally(()=>{this.loading=!1})},DeleteApp(){this.loading=!0,this.deleteApp=!0,this.promiseFetch(this.$store.getters.fetchTimeout)(fetch(this.$store.getters.endpoint+"SandboxApps/DeleteApp/",{method:"post",body:JSON.stringify({token:this.$store.getters.token,AppName:this.AppName})})).then(t=>{t.text().then(e=>{t.status>206?this.$refs.Alert.Alertify({visible:!0,content:e,title:"App Deletion Error",icon:"mdi-progress-alert",color:"error"}):(this.AppModal.visible=!1,this.successOperation=!0,this.$refs.Alert.Alertify({visible:!0,content:"App Deleted Successfully",title:"Success",icon:"mdi-progress-alert",color:"success"}))})}).catch(()=>{this.$refs.Alert.Alertify({visible:!0,content:this.$store.getters.fetchTimeoutError,title:"Connection Timeout",icon:"mdi-wifi-strength-1-alert",color:"error"})}).finally(()=>{this.loading=!1})},ShowAppModal(){this.appProducts=this.AppModal.appDetails.products.map(t=>t.apiproduct),this.AppName=this.AppModal.appDetails.app,this.AppModal.update&&(this.products=this.AvailableProducts.filter(t=>!this.appProducts.includes(t.name)))},CloseAppModal(){this.AppModal.visible=!1,this.AppModal.create=!1,this.AppModal.update=!1,this.AppModal.delete=!1,this.products=[],this.AppName="",this.AppToBeDeleted=""},ValidateAppName(t){this.AppName==t?this.isAppNameValid=!0:this.isAppNameValid=!1},ReloadGetApps(){this.$emit("GetApps"),this.$router.push("Reloader"),this.$router.back()}}},c=n,l=s("2877"),d=Object(l["a"])(c,o,a,!1,null,null,null),p=d.exports,h=function(){var t=this,e=t._self._c;return e("v-dialog",{attrs:{transition:"fab-transition",persistent:""},model:{value:this.AppModal.visible,callback:function(e){t.$set(this.AppModal,"visible",e)},expression:"this.AppModal.visible"}},[e("div",{attrs:{align:"center"}},[e("v-col",{attrs:{cols:"12",sm:"8"}},[e("v-card",{staticClass:"rounded-xl",attrs:{disabled:t.isFreeze}},[this.AppModal.delete?t._e():e("v-toolbar",{attrs:{height:"35",dark:"",src:t.$store.getters.server+"img/backdrops/"+t.$store.getters.background},scopedSlots:t._u([{key:"img",fn:function({props:s}){return[e("v-img",t._b({attrs:{gradient:"to top right, rgba(57,181,74,.9), rgba(25,32,72,.6)"}},"v-img",s,!1))]}}],null,!1,3910631011)},[e("div",[e("span",{staticClass:"body-2 ml-3"},[t._v("Add API Products")])]),e("v-spacer"),e("v-icon",{staticClass:"ml-5",attrs:{size:"18"},on:{click:function(e){return t.closeModal()}}},[t._v("mdi-close")])],1),e("v-stepper",{model:{value:t.step,callback:function(e){t.step=e},expression:"step"}},[e("v-stepper-header",[e("v-stepper-step",{attrs:{complete:t.step>1,step:"1"}},[t._v(" Organization Information "),e("small",{directives:[{name:"show",rawName:"v-show",value:t.GoLiveProcess.checkingDuplicate||t.GoLiveProcess.gettingProduct||t.GoLiveProcess.sendingOTP,expression:"\n                  GoLiveProcess.checkingDuplicate ||\n                    GoLiveProcess.gettingProduct ||\n                    GoLiveProcess.sendingOTP\n                "}],staticClass:"caption"},[e("v-progress-circular",{attrs:{indeterminate:"",color:"green"}}),e("span",{directives:[{name:"show",rawName:"v-show",value:!t.GoLiveProcess.checkingDuplicate&&!t.GoLiveProcess.gettingProduct&&!t.GoLiveProcess.sendingOTP,expression:"\n                    !GoLiveProcess.checkingDuplicate &&\n                      !GoLiveProcess.gettingProduct &&\n                      !GoLiveProcess.sendingOTP\n                  "}]},[t._v(" Verification of Organization Information ")]),e("span",{directives:[{name:"show",rawName:"v-show",value:t.GoLiveProcess.checkingDuplicate,expression:"GoLiveProcess.checkingDuplicate"}]},[t._v("Checking for app duplicates...")]),e("span",{directives:[{name:"show",rawName:"v-show",value:t.GoLiveProcess.gettingProduct,expression:"GoLiveProcess.gettingProduct"}]},[t._v("Getting app products...")]),e("span",{directives:[{name:"show",rawName:"v-show",value:t.GoLiveProcess.sendingOTP,expression:"GoLiveProcess.sendingOTP"}]},[t._v("Sending OTP...")])],1)]),e("v-divider"),e("v-stepper-step",{attrs:{complete:t.step>2,step:"2"}},[t._v(" Adding API products "),e("small",{directives:[{name:"show",rawName:"v-show",value:!t.GoLiveProcess.OldGoLive&&!t.GoLiveProcess.CreateMerchant,expression:"\n                  !GoLiveProcess.OldGoLive && !GoLiveProcess.CreateMerchant\n                "}],staticClass:"caption"},[t._v(" Enter the One Time PIN received and select at least one API product ")]),e("small",{directives:[{name:"show",rawName:"v-show",value:t.GoLiveProcess.OldGoLive||t.GoLiveProcess.CreateMerchant,expression:"\n                  GoLiveProcess.OldGoLive || GoLiveProcess.CreateMerchant\n                "}],staticClass:"caption"},[e("v-progress-circular",{attrs:{indeterminate:"",color:"green"}}),e("span",{directives:[{name:"show",rawName:"v-show",value:t.GoLiveProcess.OldGoLive,expression:"GoLiveProcess.OldGoLive"}]},[t._v(" Adding Products... ")]),e("span",{directives:[{name:"show",rawName:"v-show",value:t.GoLiveProcess.CreateMerchant,expression:"GoLiveProcess.CreateMerchant"}]},[t._v("Creating merchant...")])],1)])],1),e("v-stepper-content",{attrs:{step:"1"}},[e("v-card",{staticClass:"pt-1",attrs:{flat:""}},[e("v-form",{staticClass:"CustomFormModifier",model:{value:t.ShortCodeVerification.valid,callback:function(e){t.$set(t.ShortCodeVerification,"valid",e)},expression:"ShortCodeVerification.valid"}},[e("v-row",[e("v-col",{attrs:{cols:"12",sm:"6"}},[e("v-text-field",{attrs:{rules:[t.validators.required,t.validators.NumericsRegex],label:"Organization Short Code *",name:"OrganizationShortCode","prepend-inner-icon":"mdi-powershell",hint:"Enter Business Shortcode (Store number/Head office/Paybill/B2C).","persistent-hint":"",outlined:"",dense:"",readonly:""},model:{value:t.ShortCodeVerification.OrganizationShortCode,callback:function(e){t.$set(t.ShortCodeVerification,"OrganizationShortCode",e)},expression:"ShortCodeVerification.OrganizationShortCode"}})],1),e("v-col",{attrs:{cols:"12",sm:"6"}},[e("v-text-field",{attrs:{rules:[t.validators.required],label:"Production App Name *",name:"AppName","prepend-inner-icon":"mdi-powershell",hint:"Enter Production App Name.","persistent-hint":"",outlined:"",dense:"",readonly:""},model:{value:t.ShortCodeVerification.AppName,callback:function(e){t.$set(t.ShortCodeVerification,"AppName",e)},expression:"ShortCodeVerification.AppName"}})],1)],1),e("v-row",{staticClass:"mt-3"},[e("v-col",{attrs:{cols:"12",sm:"6"}},[e("v-text-field",{attrs:{rules:[t.validators.required,t.validators.AlphanumericsAndSpacesRegex,t.validators.OrgName],label:"Organization Name *",name:"OrganizationName","prepend-inner-icon":"mdi-domain",hint:"Name of your organization or company","persistent-hint":"",outlined:"",dense:"",readonly:""},model:{value:t.ShortCodeVerification.OrganizationName,callback:function(e){t.$set(t.ShortCodeVerification,"OrganizationName",e)},expression:"ShortCodeVerification.OrganizationName"}})],1),e("v-col",{attrs:{cols:"12",sm:"6"}},[e("v-text-field",{attrs:{rules:[t.validators.required],label:"M-Pesa Username *",name:"MpesaUsername","prepend-inner-icon":"mdi-account-circle",hint:"This is the username you were given to login into the M-Pesa portal","persistent-hint":"",outlined:"",dense:""},model:{value:t.ShortCodeVerification.MpesaUsername,callback:function(e){t.$set(t.ShortCodeVerification,"MpesaUsername",e)},expression:"ShortCodeVerification.MpesaUsername"}})],1)],1),e("TnC",{ref:"TnC"}),e("div",{staticClass:"d-flex flex-row-reverse mt-5"},[e("v-btn",{attrs:{color:"primary",disabled:!t.ShortCodeVerification.valid||t.ShortCodeVerification.loading,loading:t.ShortCodeVerification.loading},on:{click:t.CheckForExistingApp}},[t._v(" NEXT STEP ")])],1)],1)],1)],1),e("v-stepper-content",{attrs:{step:"2"}},[e("v-card",{staticClass:"pl-3 pt-1",attrs:{flat:""}},[t.products.dataset.length?e("v-row",{attrs:{"no-gutters":""}},[e("v-col",{attrs:{cols:"12",md:"7"}},[e("v-form",{ref:"OTP",staticClass:"CustomFormModifier",on:{submit:function(t){t.preventDefault()}}},[e("v-text-field",{directives:[{name:"mask",rawName:"v-mask",value:"######",expression:"'######'"}],attrs:{rules:[t.validators.required,t.validators.OTP],label:"OTP *","prepend-inner-icon":"mdi-powershell",outlined:"",dense:""},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.GoLive.apply(null,arguments)}},scopedSlots:t._u([{key:"append",fn:function(){return[e("v-btn",{staticClass:"mr-n1",staticStyle:{"margin-top":"-2px"},attrs:{small:"",color:"primary",disabled:t.OTP.loading,loading:t.OTP.loading},on:{click:t.ResendOTP}},[t._v(" RESEND ")])]},proxy:!0}],null,!1,3688509868),model:{value:t.OTP.value,callback:function(e){t.$set(t.OTP,"value",e)},expression:"OTP.value"}})],1)],1)],1):t._e(),e("div",{staticClass:"body-2 mb-3"},[t._v(" "+t._s(t.products.dataset.length?"Select API products to be added to ":"All API products are already added to ")+" "),e("span",{staticStyle:{"text-decoration":"solid"}},[e("b",[t._v(t._s(t.ShortCodeVerification.AppName))])]),t._v(" app. ")]),t.products.dataset.length?e("v-data-table",{staticClass:"CustomVerticalTable",attrs:{headers:t.products.headers,items:t.products.dataset,"item-key":"name","show-select":"","disable-sort":"","hide-default-footer":""},model:{value:t.products.selected,callback:function(e){t.$set(t.products,"selected",e)},expression:"products.selected"}}):t._e()],1),e("div",{staticClass:"mt-5 d-flex flex-row-reverse"},[e("v-btn",{attrs:{color:"primary",disabled:t.OTP.value.length<5||t.loading||0===t.products.selected.length,loading:t.loading},on:{click:t.GoLive}},[t._v(" ADD PRODUCTS! ")]),e("v-btn",{attrs:{text:""},on:{click:function(e){t.step=1}}},[t._v("BACK")])],1)],1)],1)],1)],1)],1),e("Alert",{ref:"Alert",on:{click:function(e){t.showServeyTrigger?t.showServey=!0:t.showServey=!1}}}),e("Confirm",{ref:"Confirm",on:{confirm:function(e){return t.Confirm({task:!0})},cancel:function(e){return t.Confirm({task:!1})}}}),t.showServey&&t.npsEligible[t.serviceName]?e("NetPromoterScore",{attrs:{serviceName:t.serviceName,journey:t.journey},on:{serveySubmitted:t.serveySubmitted}}):t._e(),e("Snackbar",{ref:"Snackbar"})],1)},u=[],m=(s("1e70"),s("79a4"),s("c1a1"),s("8b00"),s("a4e7"),s("1e5a"),s("72c3"),function(){var t=this,e=t._self._c;return e("section",[e("v-dialog",{attrs:{"max-width":"800",transition:"slide-y-transition"},model:{value:t.visible,callback:function(e){t.visible=e},expression:"visible"}},[e("v-card",{staticClass:"rounded-lg",attrs:{flat:"",tile:""}},[e("v-toolbar",{attrs:{height:"40",dark:"",color:"primary",src:t.$store.getters.server+"img/backdrops/"+t.$store.getters.background},scopedSlots:t._u([{key:"img",fn:function({props:s}){return[e("v-img",t._b({attrs:{gradient:"to top right, rgba(57,181,74,.9), rgba(25,32,72,.6)"}},"v-img",s,!1))]}}])},[e("v-icon",[t._v("mdi-book-open-outline")]),e("span",{staticClass:"subtitle-1 mt-1 ml-3"},[t._v("Terms & Conditions")]),e("v-spacer"),e("v-icon",{staticClass:"ml-5",attrs:{size:"20"},on:{click:function(e){t.visible=!1}}},[t._v("mdi-close")])],1),e("div",{style:t.fullscreen?"max-height: 90vh; overflow-y: auto":"max-height: 75vh; overflow-y: auto"},[e("div",{staticClass:"pa-5",domProps:{innerHTML:t._s(t.content)}})])],1)],1),e("v-divider",{staticClass:"mt-2 ml-2"}),e("div",{staticClass:"d-flex align-center mt-5 ml-2"},[e("div",[e("v-checkbox",{staticClass:"mt-0",attrs:{color:"primary",disabled:t.submitted,"hide-details":"",rules:[t.validators.required]},model:{value:t.agreed,callback:function(e){t.agreed=e},expression:"agreed"}})],1),e("div",{staticClass:"ml-2"},[e("span",{staticClass:"subtitle-2"},[t._v(" I accept Safaricom's "),e("v-chip",{staticClass:"ml-1",attrs:{outlined:"",small:"",label:"",color:"primary"},on:{click:function(e){t.visible=!0}}},[t._v("Terms & Conditions")]),t._v(" concerning this application ")],1)])])],1)}),v=[],f={data(){return{agreed:!1,visible:!1,fullscreen:!1,content:null,submitted:!1}},created(){this.$Progress.start(),this.promiseFetch(this.$store.getters.fetchTimeout)(fetch(this.$store.getters.endpoint+"TermsAndConditions/")).then(t=>{t.text().then(e=>{t.status>200?this.$refs.Alert.Alertify({visible:!0,content:e,title:"Request Failed!",icon:"mdi-alert-decagram-outline",color:"error"}):this.content=JSON.parse(e)})}).catch(()=>{this.$refs.Alert.Alertify({visible:!0,content:this.$store.getters.fetchTimeoutError,title:"Connection Timeout",icon:"mdi-wifi-strength-1-alert",color:"error"})}).finally(()=>{this.$Progress.finish()})},methods:{TermsAccepteded(){this.agreed=!0}},watch:{agreed(t){this.$emit("termsAccepted",t)}}},g=f,y=Object(l["a"])(g,m,v,!1,null,null,null),b=y.exports,S=s("22b2"),C=s("9b67"),A=s("4f1f"),_=s("4987"),k={beforeRouteEnter(t,e,s){localStorage.daraja?s():s("/")},components:{TnC:b,Snackbar:S["a"],Alert:C["a"],NetPromoterScore:A["a"],Confirm:_["a"]},data(){return{step:1,ShortCodeVerification:{valid:!1,loading:!1,VerificationType:"Update Products",OrganizationShortCode:null,OrganizationName:null,MpesaUsername:null,AppName:null,ConsumerSecret:null,ConsumerKey:null},OTP:{value:"",loading:!1},MSISDN:null,products:{selected:[],headers:[{text:"Name",value:"name"},{text:"Description",value:"description"}],dataset:[]},loading:!1,GoLiveProcess:{checkingDuplicate:!1,gettingProduct:!1,sendingOTP:!1,OldGoLive:!1,CreateMerchant:!1},temp_products_array:[],showServey:!1,showServeyTrigger:!1,successRedirect:!1,serviceName:"Go Live",journey:"Go Live",value:[],shortCodeDetails:[],AppProducts:[],B2CEligible:!1,AppModal:{visible:!1},IncidentTypes:[],raiseREQ:!1}},mounted(){this.checkNPSEligibility(this.serviceName),this.checkBannerligibility(),this.GetIncidentTypes()},methods:{Confirm(t){"show"==t.task?this.$refs.Confirm.Confirmify({visible:!0,operation:t.operation,metadata:t.metadata,content:t.content,title:t.title,icon:t.icon||"mdi-help-circle",color:t.color||"orange",truth:t.truth||"OK",falsy:t.falsy||"HIDDEN"}):t.task?(this.$refs.Confirm.Confirmify({visible:!1}),this.showServeyTrigger&&this.npsEligible[this.serviceName]?this.showServey=!0:this.successRedirect&&(this.successRedirect=!1,this.$router.push("Reloader"),this.$router.back())):t.task||this.$refs.Confirm.Confirmify({visible:!1})},Alert(t){"show"==t.task?this.$refs.Alert.Alertify({visible:!0,content:t.content,title:t.title,icon:"mdi-progress-alert",color:"error",redirect:this.successRedirect}):t.task||(this.successRedirect=!1,this.$refs.Alert.Alertify({visible:!1}))},GetIncidentTypes(){this.promiseFetch(this.$store.getters.fetchTimeout)(fetch(this.$store.getters.endpoint+"Incidents/IncidentTypes/",{method:"post",body:JSON.stringify({token:this.$store.getters.token})})).then(t=>{t.text().then(e=>{200==t.status&&(this.IncidentTypes=JSON.parse(e).content)})}).catch(()=>{this.$refs.Alert.Alertify({visible:!0,content:this.$store.getters.fetchTimeoutError,title:"Connection Timeout",icon:"mdi-wifi-strength-1-alert",color:"error"})}).finally(()=>{})},closeModal(){this.AppModal.visible=!1,this.step=1,this.ShortCodeVerification.MpesaUsername=null,this.products.selected=[],this.products.dataset=[],this.$refs.TnC.agreed=!1},UpdateProgressIndicator(t,e,s){this.GoLiveProcess={checkingDuplicate:t,gettingProduct:e,sendingOTP:s}},CheckForExistingApp(){this.ShortCodeVerification.loading=!0,"Update Products"!=this.ShortCodeVerification.VerificationType?(this.UpdateProgressIndicator(!0,!1,!1),this.promiseFetch(this.$store.getters.fetchTimeout)(fetch(this.$store.getters.endpoint+"CheckForDuplicateApp/",{method:"post",body:JSON.stringify({token:this.$store.getters.token,OrganizationShortCode:this.ShortCodeVerification.OrganizationShortCode})})).then(t=>{t.text().then(e=>t.status>209||"failed"===JSON.parse(e).status?(this.UpdateProgressIndicator(!1,!1,!1),this.ShortCodeVerification.loading=!1,this.$refs.Alert.Alertify({visible:!0,content:JSON.parse(e).content,title:JSON.parse(e).title,icon:"mdi-progress-alert",color:"error"}),!1):(this.FetchShortcodeProducts(),!0))}).catch(()=>{this.$refs.Alert.Alertify({visible:!0,content:this.$store.getters.fetchTimeoutError,title:"Connection Timeout",icon:"mdi-wifi-strength-1-alert",color:"error"}),this.ShortCodeVerification.loading=!1}).finally(()=>{})):this.FetchShortcodeProducts()},FetchShortcodeProducts(){this.UpdateProgressIndicator(!1,!0,!1),this.promiseFetch(this.$store.getters.fetchTimeout)(fetch(this.$store.getters.endpoint+"GetProduct/",{method:"post",body:JSON.stringify({token:this.$store.getters.token,OrganizationShortCode:this.ShortCodeVerification.OrganizationShortCode,MpesaUsername:this.ShortCodeVerification.MpesaUsername})})).then(t=>{t.text().then(e=>{if(t.status>209||"failed"===JSON.parse(e).status)return this.UpdateProgressIndicator(!1,!1,!1),this.$refs.Alert.Alertify({visible:!0,content:JSON.parse(e).content,title:JSON.parse(e).title,icon:"mdi-progress-alert",color:"error"}),this.ShortCodeVerification.loading=!1,!1;let s=[];JSON.parse(e).Roles.length>0&&(s=JSON.parse(e).Roles.split(/[,]+/).map(t=>t.trim())),this.roles=s,0===this.temp_products_array.length&&(this.temp_products_array=[{name:"Lipa Na Mpesa Production",API:"Lipa na Mpesa Production",description:"STK Push And Query For Production Traffic"},{name:"C2B v2",API:"C2B v2",description:"For Customer To Business Payments. (With minimized data)"},{name:"B2C",API:"B2C",description:"Business To Customer Transactions"},{name:"Transaction Status",API:"TransactionStatus",description:"To Check The Status Of M-PESA Transaction"},{name:"Account Balance",API:"AccountBalance",description:"To Inquire Accounts Balance Of M-PESA User"},{name:"Reversal",API:"Reversal",description:"To reverse transactions"},{name:"Dynamic QRCode",API:"Dynamic QRCode",description:"Generates a dynamic QR"},{name:"Bill Manager",API:"Bill Manager - Prod",description:"One-stop end-to-end platform to send, receive, pay and reconcile all payments"},{name:"B2B",API:"B2B",description:"Business Buy Goods, Business Pay Bill & B2C Account Top Up"}]),this.B2CEligible=!1;for(let t=0;t<s.length;t++)"B2C Product"==s[t]||"B2C for API Product"==s[t]||"FSI Organizations product"==s[t]?-1===this.products.dataset.indexOf(this.temp_products_array[2])&&(this.B2CEligible=!0,this.products.dataset.push(this.temp_products_array[2]),this.products.selected.push(this.temp_products_array[2])):(-1===this.products.dataset.indexOf(this.temp_products_array[0])&&(this.products.dataset.push(this.temp_products_array[0]),this.products.selected.push(this.temp_products_array[0])),-1===this.products.dataset.indexOf(this.temp_products_array[1])&&(this.products.dataset.push(this.temp_products_array[1]),this.products.selected.push(this.temp_products_array[1])),-1===this.products.dataset.indexOf(this.temp_products_array[3])&&(this.products.dataset.push(this.temp_products_array[3]),this.products.selected.push(this.temp_products_array[3])),-1===this.products.dataset.indexOf(this.temp_products_array[4])&&(this.products.dataset.push(this.temp_products_array[4]),this.products.selected.push(this.temp_products_array[4])),-1===this.products.dataset.indexOf(this.temp_products_array[5])&&(this.products.dataset.push(this.temp_products_array[5]),this.products.selected.push(this.temp_products_array[5])),-1===this.products.dataset.indexOf(this.temp_products_array[6])&&(this.products.dataset.push(this.temp_products_array[6]),this.products.selected.push(this.temp_products_array[6])),-1===this.products.dataset.indexOf(this.temp_products_array[7])&&(this.products.dataset.push(this.temp_products_array[7]),this.products.selected.push(this.temp_products_array[7])),-1===this.products.dataset.indexOf(this.temp_products_array[8])&&(this.products.dataset.push(this.temp_products_array[8]),this.products.selected.push(this.temp_products_array[8])));return this.products.dataset=[...new Set(this.products.dataset)],"Update Products"==this.ShortCodeVerification.VerificationType&&(-1===this.products.dataset.indexOf(this.temp_products_array[2])&&(this.products.dataset.push(this.temp_products_array[2]),this.products.selected.push(this.temp_products_array[2])),this.products.dataset=this.products.dataset.filter(t=>!this.AppProducts.includes(t.API)),this.products.selected=this.products.selected.filter(t=>!this.AppProducts.includes(t.API))),"Update Products"!=this.ShortCodeVerification.VerificationType||this.products.dataset.length?(this.VerifyShortOrDealerCode(),!0):(this.ShortCodeVerification.loading=!1,this.UpdateProgressIndicator(!1,!1,!1),this.$refs.Alert.Alertify({visible:!0,content:"All API products are already added to the app",title:"Error",icon:"mdi-progress-alert",color:"error"}),!0)})}).catch(()=>{this.$refs.Alert.Alertify({visible:!0,content:this.$store.getters.fetchTimeoutError,title:"Connection Timeout",icon:"mdi-wifi-strength-1-alert",color:"error"}),this.ShortCodeVerification.loading=!1,this.UpdateProgressIndicator(!1,!1,!1)}).finally(()=>{})},VerifyShortOrDealerCode(){this.promiseFetch(this.$store.getters.fetchTimeout)(fetch(this.$store.getters.endpoint+"VerifyShortCode/",{method:"post",body:JSON.stringify({token:this.$store.getters.token,OrganizationShortCode:this.ShortCodeVerification.OrganizationShortCode,MpesaUsername:this.ShortCodeVerification.MpesaUsername,SendOTP:!0})})).then(t=>{t.text().then(e=>{t.status>209||"Verification failed!"===JSON.parse(e).title?(this.UpdateProgressIndicator(!1,!1,!1),this.ShortCodeVerification.loading=!1,this.$refs.Alert.Alertify({visible:!0,content:JSON.parse(e).content,title:JSON.parse(e).title,icon:"mdi-progress-alert",color:"error"})):(this.MSISDN=e,this.step=2,this.UpdateProgressIndicator(!1,!1,!1),this.ShortCodeVerification.loading=!1)})})},GoLive(){this.showServeyTrigger=!1,this.successRedirect=!1;let t="",e="",s="";-1!==this.products.selected.indexOf(this.temp_products_array[2])&&this.IncidentTypes.length&&!this.B2CEligible?this.raiseREQ=!0:this.raiseREQ=!1;let i=(t,e)=>{this.GoLiveProcess={OldGoLive:t,CreateMerchant:e}};this.loading=!0,i(!0,!1),this.promiseFetch(this.$store.getters.fetchTimeout)(fetch(this.$store.getters.endpoint+"GoLive/",{method:"post",body:JSON.stringify({token:this.$store.getters.token,OTP:this.OTP.value,MSISDN:this.MSISDN,OrganizationShortCode:this.ShortCodeVerification.OrganizationShortCode,OrganizationName:this.ShortCodeVerification.OrganizationName,MpesaUsername:this.ShortCodeVerification.MpesaUsername,VerificationType:this.ShortCodeVerification.VerificationType,AppName:this.ShortCodeVerification.AppName,ConsumerKey:this.ShortCodeVerification.ConsumerKey,ConsumerSecret:this.ShortCodeVerification.ConsumerSecret,products:this.products.selected.map(t=>t.API),B2CEligible:this.B2CEligible})})).then(r=>{r.text().then(o=>{if(r.status>209)this.loading=!1,"Invalid OTP"==JSON.parse(o).title?this.showServeyTrigger=!1:this.showServeyTrigger=!0,this.$refs.Alert.Alertify({visible:!0,content:JSON.parse(o).content,title:JSON.parse(o).title,icon:"mdi-progress-alert",color:"error"});else{if(this.raiseREQ){let t=this.IncidentTypes[0].incidentOptions["B2C"].filter(t=>"Map Product to ShortCode"===t.incidentType)[0].id;this.promiseFetch(this.$store.getters.fetchTimeout)(fetch(this.$store.getters.endpoint+"Incidents/CreateIncident/",{method:"post",body:JSON.stringify({token:this.$store.getters.token,incidentTypeId:t,severityId:1,shortCode:this.ShortCodeVerification.OrganizationShortCode,userComments:"Map Product to ShortCode"})})).then(t=>{t.text().then(()=>{if(t.status>209){if(1==this.products.selected.length)return 400==t.status?this.$refs.Alert.Alertify({visible:!0,content:"Your request for B2C API product appears to be a duplicate of an existing one currently being handled. We will keep you updated on its progress.",title:"Error",icon:"mdi-alert",color:"error"}):this.$refs.Alert.Alertify({visible:!0,content:"Something went wrong when raising a ticket to have B2C Product mapped to the Short Code.",title:"Error",icon:"mdi-alert",color:"error"}),this.loading=!1,void i(!1,!1);400==t.status?this.$refs.Snackbar.Snackify({visible:!0,content:"Your request for B2C API product appears to be a duplicate of an existing one currently being handled. We will keep you updated on its progress.",color:"error",bottom:!1,top:!0,opacity:1,timeout:5e3}):this.$refs.Snackbar.Snackify({visible:!0,content:"Something went wrong when raising a ticket to have B2C API Product mapped to the Short Code.",color:"error",bottom:!1,top:!0,opacity:1,timeout:5e3})}else{if(1==this.products.selected.length)return this.loading=!1,i(!1,!1),this.showServeyTrigger=!0,this.successRedirect=!0,void this.Confirm({task:"show",operation:"live",color:"primary",icon:"mdi-check-decagram",title:"Success",content:"We have raised a ticket to have B2C Product mapped to the Short Code. A notification will be sent to you."});this.$refs.Snackbar.Snackify({visible:!0,content:"We have raised a ticket to have B2C Product mapped to the Short Code. A notification will be sent to you.",color:"success",bottom:!1,top:!0,opacity:1,timeout:5e3})}})}).catch(()=>{1!=this.products.selected.length?this.$refs.Snackbar.Snackify({visible:!0,content:"Something went wrong when raising a ticket to have B2C Product mapped to the Short Code.",color:"error",bottom:!1,top:!0,opacity:1,timeout:5e3}):this.$refs.Alert.Alertify({visible:!0,content:"Something went wrong when raising a ticket to have B2C Product mapped to the Short Code.",title:"Error",icon:"mdi-check-decagram",color:"error"})})}if(-1!==this.products.selected.indexOf(this.temp_products_array[2])&&!this.B2CEligible&&this.products.selected.length>1||this.products.selected.length&&-1!==this.products.selected.indexOf(this.temp_products_array[2])&&this.B2CEligible||-1==this.products.selected.indexOf(this.temp_products_array[2])){this.loading=!0;let r=!1;0!==this.products.selected.filter(t=>"Lipa Na Mpesa Production"===t.name).length&&(r=!0);let a=JSON.parse(o),n=a.InfrastructureChangeID,c=a.AppName,l=a.ServiceRequestNumber;r?(i(!1,!0),this.promiseFetch(this.$store.getters.fetchTimeout)(fetch(this.$store.getters.endpoint+"CreateMerchant/",{method:"post",body:JSON.stringify({token:this.$store.getters.token,OrganizationShortCode:this.ShortCodeVerification.OrganizationShortCode,OrganizationName:this.ShortCodeVerification.OrganizationName,MSISDN:this.MSISDN,AppName:c,MpesaUsername:this.ShortCodeVerification.MpesaUsername,ServiceRequestNumber:l,InfrastructureChangeID:n,PRODUCT:"Lipa Na Mpesa Production"})})).then(r=>{r.text().then(o=>{r.status>209||"failed"===JSON.parse(o).status?(i(!1,!1),this.loading=!1,this.showServeyTrigger=!0,this.successRedirect=!1,this.Alert({task:"show",content:JSON.parse(o).content,title:JSON.parse(o).title})):(i(!1,!0),this.loading=!1,e="primary",t="Congratulations!","Update Products"==this.ShortCodeVerification.VerificationType&&(s="You have successfully updated your Production APIs access. : "+n+". Please check email for Production API URLs against your selected products. Select your company in the dropdown menu in MY APPS to see the production App."),this.showServeyTrigger=!0,this.successRedirect=!0,this.Confirm({task:"show",operation:"live",color:e,icon:"mdi-check-decagram",content:s,title:t}))})})):r||(this.loading=!1,i(!1,!1),"failed"===JSON.parse(o).status?(e="error",t=JSON.parse(o).title,s=JSON.parse(o).content):(e="primary",t="Congratulations!","Update Products"==this.ShortCodeVerification.VerificationType&&(s="You have successfully updated your Production APIs access. : "+n+". Please check email for Production API URLs against your selected products. Select your company in the dropdown menu in MY APPS to see the production App."),this.loading=!1,i(!1,!1)),this.showServeyTrigger=!0,this.successRedirect=!0,this.Confirm({task:"show",operation:"live",color:e,icon:"mdi-check-decagram",title:t,content:s}))}}})}).catch(()=>{this.$refs.Alert.Alertify({visible:!0,content:this.$store.getters.fetchTimeoutError,title:"Connection Timeout",icon:"mdi-wifi-strength-1-alert",color:"error"})}).finally(()=>{this.loading=!1,i(!1,!1)})},ResendOTP(){this.OTP.loading=!0,this.promiseFetch(this.$store.getters.fetchTimeout)(fetch(this.$store.getters.endpoint+"VerifyShortCode/",{method:"post",body:JSON.stringify({token:this.$store.getters.token,OrganizationShortCode:this.ShortCodeVerification.OrganizationShortCode,MpesaUsername:this.ShortCodeVerification.MpesaUsername,SendOTP:!0})})).then(t=>{t.text().then(e=>{t.status>209&&this.$refs.Alert.Alertify({visible:!0,content:JSON.parse(e).content,title:JSON.parse(e).title,icon:"mdi-progress-alert",color:"error"}),this.OTP.value=""})}).catch(()=>{this.$refs.Alert.Alertify({visible:!0,content:this.$store.getters.fetchTimeoutError,title:"Connection Timeout",icon:"mdi-wifi-strength-1-alert",color:"error"})}).finally(()=>{this.OTP.loading=!1})},serveySubmitted(t){t&&(this.checkNPSEligibility(this.serviceName),this.showServeyTrigger=!1,this.showServey=!1,this.successRedirect&&(this.successRedirect=!1,this.$router.push("Reloader"),this.$router.back()))},GetApps(){this.$Progress.start(),this.promiseFetch(this.$store.getters.fetchTimeout)(fetch(this.$store.getters.endpoint+"GetApps/",{method:"post",body:JSON.stringify({token:this.$store.getters.token,Functionality:"Go-live"})})).then(t=>{t.text().then(e=>{t.status>300?(this.$Progress.fail(),this.NoContent.loading=!1):this.shortCodeDetails=JSON.parse(e)[0]})}).catch(()=>{this.$Progress.fail(),this.NoContent.loading=!1})}}},x=k,P=(s("b970"),Object(l["a"])(x,h,u,!1,null,null,null)),w=P.exports,O=function(){var t=this,e=t._self._c;return t.NoContent.visible?e("v-row",{staticStyle:{height:"75vh"},attrs:{align:"center",justify:"center"}},[t.NoContent.loading?e("v-col",{attrs:{justify:"center",align:"center"}},[e("v-progress-circular",{attrs:{size:30,indeterminate:"",color:"primary"}}),e("v-sheet",{staticClass:"body-2 mt-3",attrs:{width:"400"}},[t._v("Retrieving app information...")])],1):e("v-col",{attrs:{align:"center"}},[e("v-icon",{attrs:{size:"60"}},[t._v("mdi-lan-disconnect")]),e("v-sheet",{staticClass:"body-2 mt-3",attrs:{width:"400"}},[t._v(" Could not retieve data. Click "),e("v-btn",{staticClass:"ml-1 mr-2",attrs:{small:"",outlined:"",color:"primary"},on:{click:function(e){t.$router.push("/Reloader"),t.$router.back()}}},[t._v("HERE")]),t._v("to reload. If this persists, kindly contact apisupport@safaricom.co.ke ")],1)],1)],1):t._e()},N=[],$={props:["NoContent"]},T=$,M=Object(l["a"])(T,O,N,!1,null,null,null),z=M.exports,I={beforeRouteEnter(t,e,s){localStorage.daraja?s():s(e.fullPath)},components:{SandboxAppOperations:p,UpdateProduct:w,NoContent:z},data(){return{keycopied:!1,secretcopied:!1,keyindex:null,secretindex:null,tooltipKey:"Copy Key",tooltipSecret:"Copy Secret",NoContent:{visible:!0,loading:!0},apps:!0,skeleton:!1,headers:[],dataset:[],companies:[],company:null,itemsPerPageArray:[12,24,36],search:"",filter:{},sortDesc:!1,page:1,itemsPerPage:12,sortBy:"no",showKeySetStatus:"mdi-eye-off",appsArray:[],app:[]}},created(){this.$Progress.start(),this.GetApps()},mounted(){this.checkBannerligibility()},methods:{updateProdApp(t){this.$refs.UpdateProduct.AppModal.visible=!0,this.$refs.UpdateProduct.ShortCodeVerification.OrganizationShortCode=t.ShortCode,this.$refs.UpdateProduct.ShortCodeVerification.ConsumerKey=t.ConsumerKey,this.$refs.UpdateProduct.ShortCodeVerification.ConsumerSecret=t.ConsumerSecret,this.$refs.UpdateProduct.ShortCodeVerification.OrganizationName=t.organizationName,this.$refs.UpdateProduct.ShortCodeVerification.AppName=t.app,this.$refs.UpdateProduct.AppProducts=t.products.map(t=>t.apiproduct)},copyCredentials(t,e,s){navigator.clipboard.writeText(t),"key"==s?(this.keycopied=!0,this.keyindex=e,this.tooltipKey="Copied",setTimeout(()=>{this.keycopied=!1,this.keyindex=null,this.tooltipKey="Copy Key"},2e3)):(this.secretcopied=!0,this.secretindex=e,this.tooltipSecret="Copied",setTimeout(()=>{this.secretcopied=!1,this.secretindex=null,this.tooltipSecret="Copy Secret"},2e3))},nextPage(){this.page+1<=this.numberOfPages&&(this.page+=1)},formerPage(){this.page-1>=1&&(this.page-=1)},updateItemsPerPage(t){this.itemsPerPage=t},UpdateCompany(t){this.company=t,this.dataset=[],this.dataset=this.appsArray.filter(t=>"Sandbox"===this.company?"Sandbox"===t["domain"]||""===t["organizationName"]:t["organizationName"]===this.company&&"Production"===t["domain"]&&""!==t["organizationName"]&&t["app"].startsWith("Prod-")&&/\d+$/.test(t["app"].substring(t["app"].lastIndexOf("-")+1)))},NewApp(t){this.dataset.unshift(t),this.$router.push("Reloader"),this.$router.back()},showhideKeySecret(t){let e=document.getElementsByClassName("ellipsize-key"),s=document.getElementsByClassName("ellipsize-secret"),i=document.getElementsByClassName("ellipsize-shortcode"),r="mdi-eye-"+t,o=document.getElementById(r);o.classList.contains("mdi-eye-off")?(o.classList.remove("mdi-eye-off"),o.classList.add("mdi-eye"),e[t].classList.add("ellipsize-key-Secret-shortcode-Undo"),s[t].classList.add("ellipsize-key-Secret-shortcode-Undo"),i[t].classList.add("ellipsize-key-Secret-shortcode-Undo")):o.classList.contains("mdi-eye")&&(o.classList.remove("mdi-eye"),o.classList.add("mdi-eye-off"),e[t].classList.remove("ellipsize-key-Secret-shortcode-Undo"),s[t].classList.remove("ellipsize-key-Secret-shortcode-Undo"),i[t].classList.remove("ellipsize-key-Secret-shortcode-Undo"))},isSandboxDomain(t){return"Sandbox"==t},showAppDetailsModal(t,e){this.deletedApp=null,"Create"==t?this.$refs.SandboxAppOperations.AppModal.create=!0:"Update"==t?this.$refs.SandboxAppOperations.AppModal.update=!0:"Delete"==t&&(this.$refs.SandboxAppOperations.AppModal.delete=!0),this.$refs.SandboxAppOperations.AppModal.visible=!0,e&&(this.$refs.SandboxAppOperations.AppModal.appDetails=e,this.$refs.SandboxAppOperations.ShowAppModal(),this.$refs.SandboxAppOperations.product=[])},GetApps(){this.promiseFetch(this.$store.getters.fetchTimeout)(fetch(this.$store.getters.endpoint+"GetApps/",{method:"post",body:JSON.stringify({token:this.$store.getters.token})})).then(t=>{t.text().then(e=>{t.status>300?(this.$Progress.fail(),this.NoContent.loading=!1):(this.companies=JSON.parse(e)[0],this.companies.unshift("Sandbox"),this.company="Sandbox",this.appsArray=JSON.parse(e)[1],this.UpdateCompany(this.company),this.NoContent.visible=!1)})}).catch(()=>{this.$Progress.fail(),this.NoContent.loading=!1})}},computed:{numberOfPages(){return Math.ceil(this.dataset.length/this.itemsPerPage)},filteredKeys(){return this.headers.filter(t=>"Name"!==t)}}},D=I,E=(s("1942"),Object(l["a"])(D,i,r,!1,null,"3f9f81d2",null));e["default"]=E.exports},cb27:function(t,e,s){"use strict";var i=s("e330"),r=Set.prototype;t.exports={Set:Set,add:i(r.add),has:i(r.has),remove:i(r["delete"]),proto:r}},dad2:function(t,e,s){"use strict";var i=s("d066"),r=function(t){return{size:t,has:function(){return!1},keys:function(){return{next:function(){return{done:!0}}}}}};t.exports=function(t){var e=i("Set");try{(new e)[t](r(0));try{return(new e)[t](r(-1)),!1}catch(s){return!0}}catch(o){return!1}}},dc19:function(t,e,s){"use strict";var i=s("cb27").has;t.exports=function(t){return i(t),t}},e79d:function(t,e,s){},e9bc:function(t,e,s){"use strict";var i=s("dc19"),r=s("cb27").add,o=s("83b9"),a=s("7f65"),n=s("5388");t.exports=function(t){var e=i(this),s=a(t).getIterator(),c=o(e);return n(s,(function(t){r(c,t)})),c}}}]);